# **Домашнее задание 2. КПО.**
## _Шарапов Егор Сергеевич, БПИ219_

В данном **README** содержится условие и краткое описание решения.
> Тут содержатся ссылки на файлы и папки, поэтому рекомендую тыкать на синие ссылки)
## Содержание 
- [Начало](#отчёт-домашнее-задание-4-вариант-22)
- [Условие](#Условие) 
- [Описание решения](#описание-решения) 
- [Структура](#структура) 
- [Взаимодействие](#взаимодействие) 
- [Завершение](#завершение)

## Условие

```sh
Имеется корневая папка.
В этой папке могут находиться текстовые файлы, а также
другие папки.
В других папках также могут находиться текстовые файлы и папки (уровень вложенности может оказаться любым).

В каждом файле может быть ни одной, одна или несколько директив формата:

require ‘<путь к другому файлу от корневого каталога>’

Директива означает, что текущий файл зависит от другого указанного файла.

Необходимо выявить все зависимости между файлами, построить сортированный
список, для которого выполняется условие: "если файл А, зависит от файла В, то файл А находится ниже файла В в списке."

Осуществить конкатенацию файлов в соответствии со списком. Если такой список
построить невозможно (существует циклическая зависимость), программа должна
вывести соответствующее сообщение.
```

## Описание решения
Было решено оформить решение через использование схемы файлов в виде **графа**, который строится по _"связям требований"_ то есть путь от одного узла до другого строится от файла которые требуется к файлу, которые требует.

При таком формировании и проверки графа на отсутствие петлей, псевдо природы и направленность позволяет с помощью **BFS** обхода получить требуемый в условии список файлов, что можно увидеть, запустив программу с дефолтными значениями или с помощью ручного ввода пути до тестовой папки [**test**](./test).

Финальные результаты можно обнаружить в папке [**output**](./output)

Сбор файлов производится с помощью крутого метода **walk** c сортировкой по имени. 


## Структура 
Решение было решено построить на основе **4** классов:

- [**FileNode**](./src/FileNode.java) - класс репрезентирующий объект содержащий путь до файла и пути до файлов, которые он требует
- [**Graph**](./src/Graph.java) - класс репрезентирующий объект, содержащий матрицу смежности и листы, содержащие пути и объекты класса FileNode. Производит сортировку с использованием **BFS** обхода.
- [**Main**](./src/Main.java) - класс содержащий основные вызовы функций и получение информации от пользователя, а также проверку правильности ввода пользователя.
- [**Merge**](./src/Merge.java) - класс, производящий сборку файлов из рабочей папки, сортировку согласно условию и вывод в один файл.

## Взаимодействие 
Описание взаимодействия.\
\
**Внутри программы**\
Работа, как обычно начинается в классе [**Main**](./src/Main.java) с метода **main** в которым мы получаем данные и создаем экземпляр класса [**Merge**](./src/Merge.java), заставляя его сортировать и записать файлы в ответный файл, а сам [**Merge**](./src/Merge.java) вызывает создание класса [**Graph**](./src/Graph.java), который содержит в себе лист объектов [**FileNode**](./src/FileNode.java), на основе которых заполняется граф и формируется список **BFS** обходом.

**С пользователем**\
Пользователь выбирает как производить работу. С дефолтными значениями в виде полей внутри класса [**Main**](./src/Main.java) или ввести самому, при этом, если рабочей папки не будет, то программа завершится с указанием на ошибку, если окажется, что нет файлы вывода, программа предупредит об этом и создаст его.\
Пользователь, при успешной работе, получит представление о файлах, матрицу смежности и ответный список файлов, отсортированных по условию, а также сможет увидеть своими глазами результат работы в указанном для ответа файле. 

# Завершение
![](./images/r.gif) ![](./images/e.gif)
